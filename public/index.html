<html>
    <head>
        <link href='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css' rel='stylesheet' />
        <style>
            *{
                margin: 0;
                padding: 0;
            }
            #map{
                height: 100vh;
                width: 100vw;
            }
        </style>
        <title>
            Corona Map
        </title>
    </head>

    <body>
        
        <div id='map'></div>
    </body>

    <script src='index.js'></script>

    <script src='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js'></script>
<script>
  mapboxgl.accessToken = 'pk.eyJ1Ijoic2F1cmFiaDg0MzQiLCJhIjoiY2t5eDBnNGpyMDZsczJ3cGd3MXMwcWh1ZyJ9.o5WmmIEZc4P1yjipFKHWBQ';
  var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/dark-v10',
    zoom:1,
    center : [0,50]
  });
</script>

<!-- <script>
function updateMap(){
    fetch("../data.json")
    .then(response => response.json())
    .then(rsp => {
        console.log(rsp.data)
        rsp.data.forEach(element => {
            latitude = element.latitude;
            longitude = element.longitude;
            
            cases = element.infected;
            if(cases>255){
                color = "rgb(255,0,0)";
            }
            else{
                color = `rgb(${cases},0,0)`;
            }
            
            // mark on the map
            const marker = new mapboxgl.Marker({
                draggable: false,
                color: color
            })
            .setLngLat([longitude, latitude])
            .addTo(map);
        })
    })
}

let interval = 20000;
setInterval(updateMap(), interval);
</script> -->


</html>